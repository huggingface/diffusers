[[open-in-colab]]
 # ุฌููุฉ ุณุฑูุนุฉ 

ุชูุฏุฑุจ ููุงุฐุฌ ุงูุงูุชุดุงุฑ ุนูู ุฅุฒุงูุฉ ุงูุชุดููุด ูู ุงูุถูุถุงุก ุงูุบุงูุณูุฉ ุจุดูู ุชุฏุฑูุฌู ูุชูููุฏ ุนููุฉ ุฐุงุช ุงูุชูุงูุ ูุซู ุตูุฑุฉ ุฃู ุตูุช. ููุฏ ุฃุซุงุฑ ูุฐุง ุงูุชูุงููุง ูุงุฆูุงู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุชูููุฏูุ ูุฑุจูุง ุชููู ูุฏ ุฑุฃูุช ุฃูุซูุฉ ุนูู ุงูุตูุฑ ุงููููุฏุฉ ุจุงูุงูุชุดุงุฑ ุนูู ุงูุฅูุชุฑูุช. ๐งจ Diffusers ูู ููุชุจุฉ ุชูุฏู ุฅูู ุฌุนู ููุงุฐุฌ ุงูุงูุชุดุงุฑ ูู ูุชูุงูู ุงูุฌููุน.

ุณูุงุก ููุช ูุทูุฑูุง ุฃู ูุณุชุฎุฏููุง ุนุงุฏููุงุ ุณุชุชุนุฑูู ูุฐู ุงูุฌููุฉ ุงูุณุฑูุนุฉ ุนูู ๐งจ Diffusers ูุณุชุณุงุนุฏู ุนูู ุงูุจุฏุก ูู ุงูุชูููุฏ ุจุณุฑุนุฉ! ููุงู ุซูุงุซุฉ ููููุงุช ุฑุฆูุณูุฉ ููููุชุจุฉ ูุฌุจ ูุนุฑูุชูุง:

* [`DiffusionPipeline`] ูู ูุฆุฉ ุนุงููุฉ ุงููุณุชูู ูุตููุฉ ูุชูููุฏ ุนููุงุช ุจุณุฑุนุฉ ูู ููุงุฐุฌ ุงูุงูุชุดุงุฑ ุงูููุฏุฑุจุฉ ูุณุจููุง ููุงุณุชุฏูุงู.
* ุงูููุงุฐุฌ ุงูููุฏุฑุจุฉ ูุณุจููุง [model](./api/models) ุงูุดููุฑุฉ ููุญุฏุงุช ุงูุจูุงุก ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูุฅูุดุงุก ุฃูุธูุฉ ุงูุงูุชุดุงุฑ.
* ุงูุนุฏูุฏ ูู [schedulers](./api/schedulers/overview) ุงููุฎุชููุฉ - ุฎูุงุฑุฒููุงุช ุชุชุญูู ูู ููููุฉ ุฅุถุงูุฉ ุงูุถูุถุงุก ููุชุฏุฑูุจุ ูููููุฉ ุชูููุฏ ุงูุตูุฑ ุงูุฎุงููุฉ ูู ุงูุชุดููุด ุฃุซูุงุก ุงูุงุณุชุฏูุงู.

ุณุชูุธูุฑ ูู ูุฐู ุงูุฌููุฉ ุงูุณุฑูุนุฉ ููููุฉ ุงุณุชุฎุฏุงู [`DiffusionPipeline`] ููุงุณุชุฏูุงูุ ุซู ุชุดุฑุญ ูู ููููุฉ ุฏูุฌ ูููุฐุฌ ููุฎุทุท ุฒููู ูุชูุฑุงุฑ ูุง ูุญุฏุซ ุฏุงุฎู [`DiffusionPipeline`].

<Tip>

ูุฐู ุงูุฌููุฉ ุงูุณุฑูุนุฉ ูู ูุณุฎุฉ ูุจุณุทุฉ ูู ุงูุฏูุชุฑ ๐งจ Diffusers [notebook](https://colab.research.google.com/github.com/huggingface/notebooks/blob/main/diffusers/diffusers_intro.ipynb) ููุณุงุนุฏุชู ุนูู ุงูุจุฏุก ุจุณุฑุนุฉ. ุฅุฐุง ููุช ุชุฑุบุจ ูู ูุนุฑูุฉ ุงููุฒูุฏ ุนู ูุฏู ๐งจ Diffusers ูููุณูุฉ ุงูุชุตููู ูุชูุงุตูู ุฅุถุงููุฉ ุญูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงูุฃุณุงุณูุฉ ุงูุฎุงุตุฉ ุจูุงุ ูุฑุงุฌุน ุงูุฏูุชุฑ!

</Tip>

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู ุชุซุจูุช ุฌููุน ุงูููุชุจุงุช ุงูุถุฑูุฑูุฉ:

```py
# ูู ุจุฅูุบุงุก ุงูุชุนููู ูุชุซุจูุช ุงูููุชุจุงุช ุงูุถุฑูุฑูุฉ ูู Colab
#! pip install --upgrade diffusers accelerate transformers
```

- [๐ค Accelerate](https://huggingface.co/docs/accelerate/index) ูุณุฑุน ุชุญููู ุงููููุฐุฌ ููุงุณุชุฏูุงู ูุงูุชุฏุฑูุจ.
- [๐ค Transformers](https://huggingface.co/docs/transformers/index) ูุทููุจ ูุชุดุบูู ุฃูุซุฑ ููุงุฐุฌ ุงูุงูุชุดุงุฑ ุดูุฑุฉุ ูุซู [Stable Diffusion](https://huggingface.co/docs/diffusers/api/pipelines/stable_diffusion/overview).

## DiffusionPipeline

[`DiffusionPipeline`] ูู ุฃุณูู ุทุฑููุฉ ูุงุณุชุฎุฏุงู ูุธุงู ุงูุชุดุงุฑ ููุฏุฑุจ ูุณุจููุง ููุงุณุชุฏูุงู. ููู ูุธุงู ุดุงูู ูุญุชูู ุนูู ุงููููุฐุฌ ูุงููุฎุทุท ุงูุฒููู. ููููู ุงุณุชุฎุฏุงู [`DiffusionPipeline`] ุฌุงูุฒูุง ููุนุฏูุฏ ูู ุงูููุงู. ุงูู ูุธุฑุฉ ุนูู ุงูุฌุฏูู ุฃุฏูุงู ูุจุนุถ ุงูููุงู ุงููุฏุนููุฉุ ูููุญุตูู ุนูู ูุงุฆูุฉ ูุงููุฉ ุจุงูููุงู ุงููุฏุนููุฉุ ุฑุงุฌุน ุฌุฏูู [๐งจ Diffusers Summary](./api/pipelines/overview#diffusers-summary).

| ุงููููุฉ | ุงููุตู | ุงูุฃูุงุจูุจ |
|------------------------------|--------------------------------------------------------------------------------------------------------------|-----------------|
| Unconditional Image Generation | ูู ุจุชูููุฏ ุตูุฑุฉ ูู ุงูุถูุถุงุก ุงูุบุงูุณูุฉ | [unconditional_image_generation](./using-diffusers/unconditional_image_generation) |
| Text-Guided Image Generation | ูู ุจุชูููุฏ ุตูุฑุฉ ุจูุงุกู ุนูู ููุฌู ูุตู | [conditional_image_generation](./using-diffusers/conditional_image_generation) |
| Text-Guided Image-to-Image Translation | ุชูููู ุตูุฑุฉ ููุฌูุฉ ุจูุต ููุฌู | [img2img](./using-diffusers/img2img) |
| Text-Guided Image-Inpainting | ุงููุฃ ุงูุฌุฒุก ุงูููููุน ูู ุงูุตูุฑุฉ ุจุงููุธุฑ ุฅูู ุงูุตูุฑุฉ ูุงูููุงุน ูููุฌู ุงููุต | [inpaint](./using-diffusers/inpaint) |
| Text-Guided Depth-to-Image Translation | ุชูููู ุฃุฌุฒุงุก ูู ุตูุฑุฉ ููุฌูุฉ ุจูุต ูุน ุงูุญูุงุธ ุนูู ุงูุจููุฉ ูู ุฎูุงู ุชูุฏูุฑ ุงูุนูู | [depth2img](./using-diffusers/depth2img) |

ุงุจุฏุฃ ุจุฅูุดุงุก ูุซูู ูู [`DiffusionPipeline`] ูุญุฏุฏ ููุทุฉ ุชูุชูุด ุงูุฃูุงุจูุจ ุงูุชู ุชุฑูุฏ ุชูุฒูููุง.
ููููู ุงุณุชุฎุฏุงู [`DiffusionPipeline`] ูุฃู [checkpoint](https://huggingface.co/models?library=diffusers&sort=downloads) ุงููุฎุฒู ุนูู Hugging Face Hub.
ูู ูุฐู ุงูุฌููุฉ ุงูุณุฑูุนุฉุ ุณุชููู ุจุชุญููู ููุทุฉ ุชูุชูุด [`stable-diffusion-v1-5`](https://huggingface.co/runwayml/stable-diffusion-v1-5) ูุชูููุฏ ุงูุตูุฑ ุจูุงุกู ุนูู ุงููุต.

<Tip warning={true}>

ุจุงููุณุจุฉ ูููุงุฐุฌ [Stable Diffusion](https://huggingface.co/CompVis/stable-diffusion)ุ ูุฑุฌู ูุฑุงุกุฉ [ุงูุฑุฎุตุฉ](https://huggingface.co/spaces/CompVis/stable-diffusion-license) ุจุนูุงูุฉ ูุจู ุชุดุบูู ุงููููุฐุฌ. ๐งจ Diffusers ุชููุฐ [`safety_checker`](https://github.com/huggingface/diffusers/blob/main/src/diffusers/pipelines/stable_diffusion/safety_checker.py) ูููุน ุงููุญุชูู ุงููุณูุก ุฃู ุงูุถุงุฑุ ูููู ูุฏุฑุงุช ุงููููุฐุฌ ุงููุญุณูุฉ ูุชูููุฏ ุงูุตูุฑ ูููู ุฃู ุชูุชุฌ ูุญุชูู ุถุงุฑูุง ูุญุชููุงู.

</Tip>

ูู ุจุชุญููู ุงููููุฐุฌ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ [`~DiffusionPipeline.from_pretrained`]:

```python
>>> from diffusers import DiffusionPipeline

>>> pipeline = DiffusionPipeline.from_pretrained("runwayml/stable-diffusion-v1-5", use_safetensors=True)
```

ูููู [`DiffusionPipeline`] ุจุชูุฒูู ูุชุฎุฒูู ุฌููุน ููููุงุช ุงูููุฐุฌุฉ ูุงูุชูุซูู ูุงูุฌุฏููุฉ. ุณุชูุงุญุธ ุฃู ุฎุท ุฃูุงุจูุจ Stable Diffusion ูุชููู ูู [`UNet2DConditionModel`] ู [`PNDMScheduler`]ุ ูู ุจูู ุฃุดูุงุก ุฃุฎุฑู:

```py
>>> pipeline
StableDiffusionPipeline {
"_class_name": "StableDiffusionPipeline"ุ
"_diffusers_version": "0.21.4"ุ
...ุ
"scheduler": [
"diffusers"ุ
"PNDMScheduler"
]ุ
...ุ
"unet": [
"diffusers"ุ
"UNet2DConditionModel"
]ุ
"vae": [
"diffusers"ุ
"AutoencoderKL"
]
}
```

ููุตู ุจุดุฏุฉ ุจุชุดุบูู ุงูุฃูุจูุจ ุนูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช (GPU) ูุฃู ุงููููุฐุฌ ูุชููู ูู ุญูุงูู 1.4 ูููุงุฑ ูุนููุฉ.
ููููู ููู ูุงุฆู ุงููููุฏ ุฅูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช (GPU)ุ ุชูุงููุง ููุง ุชูุนู ูู PyTorch:

```python
>>> pipeline.to("cuda")
```

ุงูุขู ููููู ุชูุฑูุฑ ููุฌู ูุตู ุฅูู `pipeline` ูุชูููุฏ ุตูุฑุฉุ ุซู ุงููุตูู ุฅูู ุงูุตูุฑุฉ ุงูุฎุงููุฉ ูู ุงูุชุดููุด. ุจุดูู ุงูุชุฑุงุถูุ ูุชู ูู ุฅุฎุฑุงุฌ ุงูุตูุฑุฉ ูู ูุงุฆู [`PIL.Image`](https://pillow.readthedocs.io/en/stable/reference/Image.html?highlight=image#the-image-class).

```python
>>> image = pipeline("An image of a squirrel in Picasso style").images[0]
>>> image
```

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/image_of_squirrel_painting.png"/>
</div>

ุงุญูุธ ุงูุตูุฑุฉ ุนู ุทุฑูู ุงุณุชุฏุนุงุก `save`:

```python
>>> image.save("image_of_squirrel_painting.png")
```

### ุฎุท ุฃูุงุจูุจ ูุญูู

ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุฎุท ุงูุฃูุงุจูุจ ูุญูููุง. ุงููุฑู ุงููุญูุฏ ูู ุฃูู ุจุญุงุฌุฉ ุฅูู ุชูุฒูู ุงูุฃูุฒุงู ุฃููุงู:

```bash
!git lfs install
!git clone https://huggingface.co/runwayml/stable-diffusion-v1-5
```

ุซู ูู ุจุชุญููู ุงูุฃูุฒุงู ุงููุญููุธุฉ ูู ุฎุท ุงูุฃูุงุจูุจ:

```python
>>> pipeline = DiffusionPipeline.from_pretrained("./stable-diffusion-v1-5"ุ use_safetensors=True)
```

ุงูุขูุ ููููู ุชุดุบูู ุฎุท ุงูุฃูุงุจูุจ ููุง ูู ููุถุญ ูู ุงููุณู ุฃุนูุงู.

### ุชุจุฏูู ุงููุฎุทุทุงุช ุงูุฒูููุฉ

ุชุฃุชู ุงููุฎุทุทุงุช ุงูุฒูููุฉ ุงููุฎุชููุฉ ุจุณุฑุนุงุช ูุฎุชููุฉ ูุฅุฒุงูุฉ ุงูุชุดููุด ูููุงุถูุงุช ุงูุฌูุฏุฉ. ุฃูุถู ุทุฑููุฉ ููุนุฑูุฉ ุฃู ูููุง ูุนูู ุจุดูู ุฃูุถู ุจุงููุณุจุฉ ูู ูู ุชุฌุฑุจุชูุง! ุฅุญุฏู ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ ูู ๐งจ Diffusers ูู ุงูุณูุงุญ ูู ุจุงูุชุจุฏูู ุจุณูููุฉ ุจูู ุงููุฎุทุทุงุช ุงูุฒูููุฉ. ุนูู ุณุจูู ุงููุซุงูุ ูุงุณุชุจุฏุงู [`PNDMScheduler`] ุงูุงูุชุฑุงุถู ุจู [`EulerDiscreteScheduler`]ุ ูู ุจุชุญูููู ุจุงุณุชุฎุฏุงู ุทุฑููุฉ [`~diffusers.ConfigMixin.from_config`]:

```py
>>> from diffusers import EulerDiscreteScheduler

>>> pipeline = DiffusionPipeline.from_pretrained("runwayml/stable-diffusion-v1-5"ุ use_safetensors=True)
>>> pipeline.scheduler = EulerDiscreteScheduler.from_config(pipeline.scheduler.config)
```

ุฌุฑุจ ุชูููุฏ ุตูุฑุฉ ุจุงููุฎุทุท ุงูุฒููู ุงูุฌุฏูุฏ ูุงูุธุฑ ุฅุฐุง ูุงุญุธุช ุฃู ูุฑู!

ูู ุงููุณู ุงูุชุงููุ ุณูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูููููุงุช - ุงููููุฐุฌ ูุงููุฎุทุท ุงูุฒููู - ุงูุชู ุชุดูู [`DiffusionPipeline`] ูุชุนูู ููููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูููููุงุช ูุชูููุฏ ุตูุฑุฉ ููุทุฉ.
## ุงูููุงุฐุฌ

ุชุฃุฎุฐ ูุนุธู ุงูููุงุฐุฌ ุนููุฉ ูุดูุดุฉุ ููู ูู ุฎุทูุฉ ุฒูููุฉุ ุชุชูุจุฃ ุจู "ุจูุงูุง ุงูุชุดููุด" (ุชุชุนูู ุงูููุงุฐุฌ ุงูุฃุฎุฑู ุงูุชูุจุค ุจุงูุนููุฉ ุงูุณุงุจูุฉ ูุจุงุดุฑุฉ ุฃู ุงูุณุฑุนุฉ ุฃู ["v-prediction"])ุ ููู ุงููุฑู ุจูู ุตูุฑุฉ ุฃูู ุชุดููุดูุง ูุงูุตูุฑุฉ ุงููุฏุฎูุฉ. ููููู ูุฒุฌ ููุทุงุจูุฉ ุงูููุงุฐุฌ ูุฅูุดุงุก ุฃูุธูุฉ ุงูุชุดุงุฑ ุฃุฎุฑู.

ูุชู ุจุฏุก ุงูููุงุฐุฌ ุจุงุณุชุฎุฏุงู ุทุฑููุฉ [`~ModelMixin.from_pretrained`] ุงูุชู ุชููู ุฃูุถูุง ุจุชุฎุฒูู ุงูุฃูุฒุงู ุงููููุฐุฌูุฉ ูุญูููุง ุจุญูุซ ุชููู ุฃุณุฑุน ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ุชููู ูููุง ุจุชุญููู ุงููููุฐุฌ. ููุญุตูู ุนูู ุฌููุฉ ุณุฑูุนุฉุ ุณุชููู ุจุชุญููู [`UNet2DModel`]ุ ููู ูููุฐุฌ ุฃุณุงุณู ูุชูููุฏ ุงูุตูุฑ ุบูุฑ ุงููุดุฑูุท ูุน ููุทุฉ ุชูุชูุด ูุฏุฑุจุฉ ุนูู ุตูุฑ ุงููุทุท:

```py
>>> from diffusers import UNet2DModel

>>> repo_id = "google/ddpm-cat-256"
>>> model = UNet2DModel.from_pretrained(repo_id, use_safetensors=True)
```

ููุงุทูุงุน ุนูู ูุนููุงุช ุงููููุฐุฌุ ุงุชุตู ุจู `model.config`:

```py
>>> model.config
```

ุชูููู ุงููููุฐุฌ ูู ุนุจุงุฑุฉ ุนู ูุงููุณ ูุฌูุฏุ ููุง ูุนูู ุฃูู ูุง ูููู ุชุบููุฑ ูุฐู ุงููุนููุงุช ุจุนุฏ ุฅูุดุงุก ุงููููุฐุฌ. ูุฐุง ููุตูุฏ ููุถูู ุฃู ุงููุนููุงุช ุงููุณุชุฎุฏูุฉ ูุชุญุฏูุฏ ุจููุฉ ุงููููุฐุฌ ูู ุงูุจุฏุงูุฉ ุชุธู ููุง ููุ ูู ุญูู ูููู ุถุจุท ุงููุนููุงุช ุงูุฃุฎุฑู ุฃุซูุงุก ุงูุงุณุชุฏูุงู.

ุจุนุถ ุฃูู ุงููุนููุงุช ูู:

* `sample_size`: ุงูุจุนุฏ ุงูุนููุฏู ูุงูุฃููู ููุนููุฉ ุงููุฏุฎูุฉ.
* `in_channels`: ุนุฏุฏ ูููุงุช ุงูุฅุฏุฎุงู ููุนููุฉ ุงููุฏุฎูุฉ.
* `down_block_types` ู `up_block_types`: ููุน ูุชู ุงูุชุตุบูุฑ ูุงูุชุตุบูุฑ ุงููุณุชุฎุฏูุฉ ูุฅูุดุงุก ุจููุฉ UNet.
* `block_out_channels`: ุนุฏุฏ ูููุงุช ุงูุฅุฎุฑุงุฌ ููุชู ุงูุชุตุบูุฑุ ุชุณุชุฎุฏู ุฃูุถูุง ุจุชุฑุชูุจ ุนูุณู ูุนุฏุฏ ูููุงุช ุงูุฅุฏุฎุงู ููุชู ุงูุชุตุบูุฑ.
* `layers_per_block`: ุนุฏุฏ ูุชู ResNet ุงูููุฌูุฏุฉ ูู ูู ูุชูุฉ UNet.

ูุงุณุชุฎุฏุงู ุงููููุฐุฌ ููุงุณุชุฏูุงูุ ูู ุจุฅูุดุงุก ุดูู ุงูุตูุฑุฉ ูุน ุถูุถุงุก ุบุงูุณูุฉ ุนุดูุงุฆูุฉ. ูุฌุจ ุฃู ูููู ููุง ูุญูุฑ "ุฏูุนุฉ" ูุฃู ุงููููุฐุฌ ููููู ุงุณุชูุจุงู ุถูุถุงุก ุนุดูุงุฆูุฉ ูุชุนุฏุฏุฉุ ููุญูุฑ "ููุงุฉ" ูุทุงุจู ูุนุฏุฏ ูููุงุช ุงูุฅุฏุฎุงูุ ููุญูุฑ "sample_size" ูุงุฑุชูุงุน ุงูุตูุฑุฉ ูุนุฑุถูุง:

```py
>>> import torch

>>> torch.manual_seed(0)

>>> noisy_sample = torch.randn(1, model.config.in_channels, model.config.sample_size, model.config.sample_size)
>>> noisy_sample.shape
torch.Size([1, 3, 256, 256])
```

ููุงุณุชุฏูุงูุ ูู ุจุชูุฑูุฑ ุงูุตูุฑุฉ ุงููุดูุดุฉ ู "ุฎุทูุฉ ุฒูููุฉ" ุฅูู ุงููููุฐุฌ. ูุดูุฑ "ุงูุฎุทูุฉ ุงูุฒูููุฉ" ุฅูู ูุฏู ุชุดููุด ุตูุฑุฉ ุงูุฅุฏุฎุงูุ ูุน ูุฌูุฏ ุชุดููุด ุฃูุจุฑ ูู ุงูุจุฏุงูุฉ ูุฃูู ูู ุงูููุงูุฉ. ูุณุงุนุฏ ูุฐุง ุงููููุฐุฌ ุนูู ุชุญุฏูุฏ ููุถุนู ูู ุนูููุฉ ุงูุงูุชุดุงุฑุ ุณูุงุก ูุงู ุฃูุฑุจ ุฅูู ุงูุจุฏุงูุฉ ุฃู ุงูููุงูุฉ. ุงุณุชุฎุฏู ุทุฑููุฉ "sample" ููุญุตูู ุนูู ุฅุฎุฑุงุฌ ุงููููุฐุฌ:

```py
>>> with torch.no_grad():
...     noisy_residual = model(sample=noisy_sample, timestep=2).sample
```

ููุน ุฐููุ ูุฅูุดุงุก ุฃูุซูุฉ ูุนููุฉุ ุณุชุญุชุงุฌ ุฅูู ุฌุฏูู ุฒููู ูุชูุฌูู ุนูููุฉ ุฅุฒุงูุฉ ุงูุชุดููุด. ูู ุงููุณู ุงูุชุงููุ ุณุชุชุนูู ููููุฉ ุฑุจุท ูููุฐุฌ ุจุฌุฏูู ุฒููู.

## ุงูุฌุฏุงูู ุงูุฒูููุฉ

ุชุฏูุฑ ุงูุฌุฏุงูู ุงูุฒูููุฉ ุงูุงูุชูุงู ูู ุนููุฉ ูุดูุดุฉ ุฅูู ุนููุฉ ุฃูู ุชุดููุดูุง ุจุงููุธุฑ ุฅูู ุฅุฎุฑุงุฌ ุงููููุฐุฌ - ูู ูุฐู ุงูุญุงูุฉุ ูููู "noisy_residual".

๐งจ Diffusers ูู ูุฌููุนุฉ ุฃุฏูุงุช ูุฅูุดุงุก ุฃูุธูุฉ ุงูุงูุชุดุงุฑ. ูู ุญูู ุฃู [`DiffusionPipeline`] ูู ุทุฑููุฉ ููุงุฆูุฉ ููุจุฏุก ุจูุธุงู ุงูุชุดุงุฑ ูุณุจู ุงูุจูุงุกุ ููููู ุฃูุถูุง ุงุฎุชูุงุฑ ููููุงุช ุงููููุฐุฌ ูุงูุฌุฏูู ุงูุฒููู ุงูุฎุงุตุฉ ุจู ุจุดูู ูููุตู ูุฅูุดุงุก ูุธุงู ุงูุชุดุงุฑ ูุฎุตุต.

ููุญุตูู ุนูู ุฌููุฉ ุณุฑูุนุฉุ ุณุชููู ุจุชูููุฐ ูุซูู [`DDPMScheduler`] ุจุงุณุชุฎุฏุงู ุทุฑููุฉ [`~diffusers.ConfigMixin.from_config`]:

```py
>>> from diffusers import DDPMScheduler

>>> scheduler = DDPMScheduler.from_pretrained(repo_id)
>>> scheduler
DDPMScheduler {
"_class_name": "DDPMScheduler"ุ
"_diffusers_version": "0.21.4"ุ
"beta_end": 0.02ุ
"beta_schedule": "linear"ุ
"beta_start": 0.0001ุ
"clip_sample": trueุ
"clip_sample_range": 1.0ุ
"dynamic_thresholding_ratio": 0.995ุ
"num_train_timesteps": 1000ุ
"prediction_type": "epsilon"ุ
"sample_max_value": 1.0ุ
"steps_offset": 0ุ
"thresholding": falseุ
"timestep_spacing": "leading"ุ
"trained_betas": nullุ
"variance_type": "fixed_small"
}
```

๐ก ุนูู ุนูุณ ุงููููุฐุฌุ ูุง ูุญุชูู ุงูุฌุฏูู ุงูุฒููู ุนูู ุฃูุฒุงู ูุงุจูุฉ ููุชุฏุฑูุจ ููู ุฎุงูู ูู ุงููุนููุงุช!

ุจุนุถ ุฃูู ุงููุนููุงุช ูู:

* `num_train_timesteps`: ุทูู ุนูููุฉ ุฅุฒุงูุฉ ุงูุชุดููุดุ ุฃู ุจุนุจุงุฑุฉ ุฃุฎุฑูุ ุนุฏุฏ ุงูุฎุทูุงุช ุงูุฒูููุฉ ุงููุงุฒูุฉ ููุนุงูุฌุฉ ุงูุถูุถุงุก ุงูุนุดูุงุฆูุฉ ุบุงูุณูุฉ ุฅูู ุนููุฉ ุจูุงูุงุช.
* `beta_schedule`: ููุน ุฌุฏูู ุงูุชุดููุด ุงููุณุชุฎุฏู ููุงุณุชุฏูุงู ูุงูุชุฏุฑูุจ.
* `beta_start` ู `beta_end`: ููู ุงูุชุดููุด ุงูุงุจุชุฏุงุฆูุฉ ูุงูููุงุฆูุฉ ูุฌุฏูู ุงูุชุดููุด.

ููุชูุจุค ุจุตูุฑุฉ ุฃูู ุชุดููุดูุง ููููุงูุ ูู ุจุชูุฑูุฑ ูุง ููู ุฅูู ุทุฑููุฉ [`~diffusers.DDPMScheduler.step`] ูู ุงูุฌุฏูู ุงูุฒููู: ุฅุฎุฑุงุฌ ุงููููุฐุฌุ ู "ุงูุฎุทูุฉ ุงูุฒูููุฉ"ุ ู "ุงูุนููุฉ" ุงูุญุงููุฉ.

```py
>>> less_noisy_sample = scheduler.step(model_output=noisy_residual, timestep=2, sample=noisy_sample).prev_sample
>>> less_noisy_sample.shape
torch.Size([1, 3, 256, 256])
```

ูููู ุชูุฑูุฑ `less_noisy_sample` ุฅูู ุงูุฎุทูุฉ ุงูุฒูููุฉ ุงูุชุงููุฉ ุญูุซ ุณุชุตุจุญ ุฃูู ุชุดููุดูุง! ุฏุนูุง ูุฌูุน ูู ุดูุก ุงูุขู ููุตูุฑ ุนูููุฉ ุฅุฒุงูุฉ ุงูุชุดููุด ุจุฃููููุง.

ุฃููุงูุ ูู ุจุฅูุดุงุก ุฏุงูุฉ ุชููู ุจูุนุงูุฌุฉ ุงูุตูุฑุฉ ุงููุฒุงูุฉ ุงูุชุดููุด ูุนุฑุถูุง ูู `PIL.Image`:

```py
>>> import PIL.Image
>>> import numpy as np


>>> def display_sample(sample, i):
...     image_processed = sample.cpu().permute(0, 2, 3, 1)
...     image_processed = (image_processed + 1.0) * 127.5
...     image_processed = image_processed.numpy().astype(np.uint8)

...     image_pil = PIL.Image.fromarray(image_processed[0])
...     display(f"Image at step {i}")
...     display(image_pil)
```

ููุชุณุฑูุน ุนูููุฉ ุฅุฒุงูุฉ ุงูุชุดููุดุ ูู ุจููู ุงูุฅุฏุฎุงู ูุงููููุฐุฌ ุฅูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช (GPU):

```py
>>> model.to("cuda")
>>> noisy_sample = noisy_sample.to("cuda")
```

ุงูุขู ูู ุจุฅูุดุงุก ุญููุฉ ุฅุฒุงูุฉ ุงูุชุดููุด ุงูุชู ุชุชูุจุฃ ุจุจูุงูุง ุงูุนููุฉ ุงูุฃูู ุชุดููุดูุงุ ูุชุญุณุจ ุงูุนููุฉ ุงูุฃูู ุชุดููุดูุง ุจุงุณุชุฎุฏุงู ุงูุฌุฏูู ุงูุฒููู:

```py
>>> import tqdm

>>> sample = noisy_sample

>>> for i, t in enumerate(tqdm.tqdm(scheduler.timesteps)):
...     # 1. predict noise residual
...     with torch.no_grad():
...         residual = model(sample, t).sample

...     # 2. compute less noisy image and set x_t -> x_t-1
...     sample = scheduler.step(residual, t, sample).prev_sample

...     # 3. optionally look at image
...     if (i + 1) % 50 == 0:
...         display_sample(sample, i + 1)
```

ุงุณุชุฑุฎู ูุงุณุชูุชุน ุจูุดุงูุฏุฉ ุตูุฑุฉ ูุทุฉ ูุชู ุฅูุดุงุคูุง ูู ูุง ุดูุก ุณูู ุงูุถูุถุงุก! ๐ป

<div class="flex justify-center">
<img src="https://huggingface.co/datasets/huggingface/documentation-images/resolve/main/diffusers/diffusion-quicktour.png"/>
</div>

## ุงูุฎุทูุงุช ุงูุชุงููุฉ

ูู ุงููุคูู ุฃู ุชููู ูุฏ ุฃูุดุฃุช ุจุนุถ ุงูุตูุฑ ุงูุฑุงุฆุนุฉ ุจุงุณุชุฎุฏุงู ๐งจ Diffusers ูู ูุฐู ุงูุฌููุฉ ุงูุณุฑูุนุฉ! ุจุงููุณุจุฉ ูุฎุทูุงุชู ุงูุชุงููุฉุ ููููู:

* ุชุฏุฑูุจ ุฃู ุถุจุท ูููุฐุฌ ูุชูููุฏ ุตูุฑู ุงูุฎุงุตุฉ ูู [ุงูุชุฏุฑูุจ](./tutorials/basic_training) ุงูุชุนูููู.
* ุฑุงุฌุน ุงููุตูุต ุงูุจุฑูุฌูุฉ ุงูุฑุณููุฉ ูุงููุฌุชูุนูุฉ [ูุชุฏุฑูุจ ุฃู ุถุจุท ุงููุตูุต](https://github.com/huggingface/diffusers/tree/main/examples#-diffusers-examples) ููุฌููุนุฉ ูุชููุนุฉ ูู ุญุงูุงุช ุงูุงุณุชุฎุฏุงู.
* ุชุนุฑู ุนูู ุงููุฒูุฏ ุญูู ุชุญููู ุงูุฌุฏุงูู ุงูุฒูููุฉ ูุงููุตูู ุฅูููุง ูุชุบููุฑูุง ูููุงุฑูุชูุง ูู ุฏููู [Using different Schedulers](./using-diffusers/schedulers).
* ุงุณุชูุดู ููุฏุณุฉ ุงููุทุงูุจุงุชุ ูุงูุชุญุณููุงุช ุงููุชุนููุฉ ุจุงูุณุฑุนุฉ ูุงูุฐุงูุฑุฉุ ูุงููุตุงุฆุญ ูุงูุญูู ูุฅูุดุงุก ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ุจุงุณุชุฎุฏุงู ุฏููู [Stable Diffusion](./stable_diffusion).
* ุชุนูู ูู ุชุณุฑูุน ๐งจ Diffusers ุจุงุณุชุฎุฏุงู ุฃุฏูุฉ ุญูู [Optimized PyTorch on a GPU](./optimization/fp16)ุ ูุฃุฏูุฉ ุงูุงุณุชุฏูุงู ูู [Stable Diffusion on Apple Silicon (M1/M2)](./optimization/mps) ู [ONNX Runtime](./optimization/onnx).