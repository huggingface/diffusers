# ุงููุต ุฅูู ุงูุตูุฑุฉ

ุนูุฏ ุงูุชูููุฑ ูู ููุงุฐุฌ ุงูุงูุชุดุงุฑุ ูุฅู ุงููุต ุฅูู ุงูุตูุฑุฉ ูู ุนุงุฏุฉ ุฃุญุฏ ุงูุฃุดูุงุก ุงูุฃููู ุงูุชู ุชุชุจุงุฏุฑ ุฅูู ุงูุฐูู. ููุดุฆ ุงููุต ุฅูู ุงูุตูุฑุฉ ุตูุฑุฉ ูู ูุตู ูุตู (ุนูู ุณุจูู ุงููุซุงูุ "ุฑุงุฆุฏ ูุถุงุก ูู ุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K") ูุงูุชู ููุดุงุฑ ุฅูููุง ุฃูุถูุง ุจุงุณู *ุณุคุงู*.

ูู ูุณุชูู ุนุงูู ุฌุฏูุงุ ูุฃุฎุฐ ูููุฐุฌ ุงูุงูุชุดุงุฑ ุณุคุงูุงู ูุจุนุถ ุงูุถูุถุงุก ุงูุฃูููุฉ ุงูุนุดูุงุฆูุฉุ ููุฒูู ุงูุถูุถุงุก ุจุดูู ุชูุฑุงุฑู ูุจูุงุก ุตูุฑุฉ. ูุชูุฌู ุนูููุฉ "ุฅุฒุงูุฉ ุงูุชุดููุด" ุจูุงุณุทุฉ ุงูุณุคุงูุ ูุจูุฌุฑุฏ ุงูุชูุงุก ุนูููุฉ ุฅุฒุงูุฉ ุงูุชุดููุด ุจุนุฏ ุนุฏุฏ ูุญุฏุฏ ูุณุจููุง ูู ุงูุฎุทูุงุช ุงูุฒูููุฉุ ูุชู ูู ุชุฑููุฒ ุชูุซูู ุงูุตูุฑุฉ ุฅูู ุตูุฑุฉ.

ููููู ุฅูุดุงุก ุงูุตูุฑ ูู ุณุคุงู ูู ๐ค Diffusers ูู ุฎุทูุชูู:

1. ูู ุจุชุญููู ููุทุฉ ุชูุชูุด ูู ูุฆุฉ [`AutoPipelineForText2Image`]ุ ูุงูุชู ุชููู ุชููุงุฆููุง ุจุงููุดู ุนู ูุฆุฉ ุงูุฃูุงุจูุจ ุงูููุงุณุจุฉ ูุงุณุชุฎุฏุงููุง ุจูุงุกู ุนูู ููุทุฉ ุงูุชูุชูุด:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16, variant="fp16"
).to("cuda")
```

2. ูู ุจุชูุฑูุฑ ุณุคุงู ุฅูู ุงูุฃูุงุจูุจ ูุฅูุดุงุก ุตูุฑุฉ:

```py
image = pipeline(
"ุฒุฌุงุฌ ูููู ูุฏุงุฑุซ ููุฏุฑุ ุฅุถุงุกุฉ ุฎูููุฉุ ุชูููู ูุฑูุฒูุ ุชุญูุฉ ูููุฉุ ุตูุฑ ูุงูุนูุฉุ 8K"
).images[0]
image
```

## ุงูููุงุฐุฌ ุงูุดุงุฆุนุฉ

ุฃูุซุฑ ููุงุฐุฌ ุงููุต ุฅูู ุงูุตูุฑุฉ ุดููุนูุง ูู [Stable Diffusion v1.5](https://huggingface.co/runwayml/stable-diffusion-v1-5)ุ ู[Stable Diffusion XL (SDXL)](https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0)ุ ู[Kandinsky 2.2](https://huggingface.co/kandinsky-community/kandinsky-2-2-decoder). ููุงู ุฃูุถูุง ููุงุฐุฌ ControlNet ุฃู ุงููุญููุงุช ุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูุน ููุงุฐุฌ ุงููุต ุฅูู ุงูุตูุฑุฉ ููุชุญูู ุจุดูู ุฃูุซุฑ ูุจุงุดุฑุฉ ูู ุฅูุดุงุก ุงูุตูุฑ. ุชุฎุชูู ุงููุชุงุฆุฌ ูู ูู ูููุฐุฌ ุงุฎุชูุงููุง ุทููููุง ุจุณุจุจ ููุฏุณุชูุง ูุนูููุฉ ุงูุชุฏุฑูุจ ุงูุฎุงุตุฉ ุจูุงุ ูููู ุจุบุถ ุงููุธุฑ ุนู ุงููููุฐุฌ ุงูุฐู ุชุฎุชุงุฑูุ ูุฅู ุงุณุชุฎุฏุงููุง ูุชูุงุซู ุฅูู ุญุฏ ูุง. ุฏุนููุง ูุณุชุฎุฏู ููุณ ุงูุณุคุงู ููู ูููุฐุฌ ูููุงุฑู ูุชุงุฆุฌูุง.

### Stable Diffusion v1.5

[Stable Diffusion v1.5](https://huggingface.co/runwayml/stable-diffusion-v1-5) ูู ูููุฐุฌ ุงูุชุดุงุฑ ุงููุงูู ุงููุจุฏุฆู ูู [Stable Diffusion v1-4](https://huggingface.co/CompVis/stable-diffusion-v1-4)ุ ูุชู ุถุจุท ุฏูุชู ูู 595K ุฎุทูุฉ ุนูู ุตูุฑ 512x512 ูู ูุฌููุนุฉ ุจูุงูุงุช LAION-Aesthetics V2. ููููู ุงุณุชุฎุฏุงู ูุฐุง ุงููููุฐุฌ ูุซู:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16, variant="fp16"
).to("cuda")
generator = torch.Generator("cuda").manual_seed(31)
image = pipeline("ุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K"ุ generator=generator).images[0]
image
```

### Stable Diffusion XL

SDXL ูู ุฅุตุฏุงุฑ ุฃูุจุฑ ุจูุซูุฑ ูู ููุงุฐุฌ Stable Diffusion ุงูุณุงุจูุฉุ ููุชุถูู ุนูููุฉ ูููุฐุฌ ูู ูุฑุญูุชูู ุชุถูู ุงููุฒูุฏ ูู ุงูุชูุงุตูู ุฅูู ุงูุตูุฑุฉ. ููุง ูุชุถูู ุจุนุถ "ุงูุชููููุงุช ุงูุฏูููุฉ" ุงูุฅุถุงููุฉ ูุชูููุฏ ุตูุฑ ุนุงููุฉ ุงูุฌูุฏุฉ ุชุชูุญูุฑ ุญูู ุงูููุถูุนุงุช. ุงูู ูุธุฑุฉ ุนูู ุฏููู [SDXL](sdxl) ุงูุฃูุซุฑ ุดูููุงู ููุนุฑูุฉ ุงููุฒูุฏ ุญูู ููููุฉ ุงุณุชุฎุฏุงูู. ุจุดูู ุนุงูุ ููููู ุงุณุชุฎุฏุงู SDXL ูุซู:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"stabilityai/stable-diffusion-xl-base-1.0", torch_dtype=torch.float16, variant="fp16"
).to("cuda")
generator = torch.Generator("cuda").manual_seed(31)
image = pipeline("ุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K"ุ generator=generator).images[0]
image
```

### Kandinsky 2.2

ูุฎุชูู ูููุฐุฌ Kandinsky ููููุงู ุนู ููุงุฐุฌ Stable Diffusion ูุฃูู ูุณุชุฎุฏู ุฃูุถูุง ูููุฐุฌ ุฃููููุฉ ุงูุตูุฑุฉ ูุฅูุดุงุก ุชุถูููุงุช ูุชู ุงุณุชุฎุฏุงููุง ูุชุญุณูู ูุญุงุฐุงุฉ ุงููุต ูุงูุตูุฑ ูู ูููุฐุฌ ุงูุงูุชุดุงุฑ.

ุฃุณูู ุทุฑููุฉ ูุงุณุชุฎุฏุงู Kandinsky 2.2 ูู:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"kandinsky-community/kandinsky-2-2-decoder", torch_dtype=torch.float16
).to("cuda")
generator = torch.Generator("cuda").manual_seed(31)
image = pipeline("ุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K"ุ generator=generator).images[0]
image
```

### ControlNet

ControlNet ูู ููุงุฐุฌ ุฃู ูุญููุงุช ูุณุงุนุฏุฉ ูุชู ุถุจุท ุฏูุชูุง ุนูู ููุฉ ููุงุฐุฌ ุงููุต ุฅูู ุงูุตูุฑุฉุ ูุซู [Stable Diffusion v1.5](https://huggingface.co/runwayml/stable-diffusion-v1-5). ูููุฑ ุงุณุชุฎุฏุงู ููุงุฐุฌ ControlNet ุจุงูุงูุชุฑุงู ูุน ููุงุฐุฌ ุงููุต ุฅูู ุงูุตูุฑุฉ ุฎูุงุฑุงุช ูุชููุนุฉ ููุชุญูู ุจุดูู ุฃูุซุฑ ุตุฑุงุญุฉ ูู ููููุฉ ุฅูุดุงุก ุตูุฑุฉ. ุจุงุณุชุฎุฏุงู ControlNetุ ููููู ุฅุถุงูุฉ ุฅุฏุฎุงู ุดุฑุทู ุตูุฑุฉ ุฅุถุงููุฉ ุฅูู ุงููููุฐุฌ. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุฏูุช ุตูุฑุฉ ููุถุน ุฅูุณุงู (ุนุงุฏุฉ ูุง ูุชู ุชูุซูููุง ุนูู ุดูู ููุงุท ุฑุฆูุณูุฉ ูุชุนุฏุฏุฉ ูุชู ุชูุตูููุง ุฅูู ูููู ุนุธูู) ูุฅุฏุฎุงู ุดุฑุทูุ ูุฅู ุงููููุฐุฌ ููุดุฆ ุตูุฑุฉ ุชุชุจุน ูุถุน ุงูุตูุฑุฉ. ุชุญูู ูู ุฏููู [ControlNet](controlnet) ุงูุฃูุซุฑ ุนูููุง ููุนุฑูุฉ ุงููุฒูุฏ ุญูู ุฅุฏุฎุงูุงุช ุงูุดุฑุทูุฉ ุงูุฃุฎุฑู ูููููุฉ ุงุณุชุฎุฏุงููุง.

ูู ูุฐุง ุงููุซุงูุ ุฏุนูุง ูุดุชุฑุท ุนูู ControlNet ุจุตูุฑุฉ ุชูุฏูุฑ ูุถุน ุงูุฅูุณุงู. ูู ุจุชุญููู ูููุฐุฌ ControlNet ุงูุฐู ุชู ุถุจุท ุฏูุชู ูุณุจููุง ุนูู ุชูุฏูุฑุงุช ุงููุถุน ุงูุจุดุฑู:

```py
from diffusers import ControlNetModel, AutoPipelineForText2Image
from diffusers.utils import load_image
import torch

controlnet = ControlNetModel.from_pretrained(
"lllyasviel/control_v11p_sd15_openpose", torch_dtype=torch.float16, variant="fp16"
).to("cuda")
pose_image = load_image("https://huggingface.co/lllyasviel/control_v11p_sd15_openpose/resolve/main/images/control.png")
```

ูุฑุฑ `controlnet` ุฅูู [`AutoPipelineForText2Image`]ุ ููุฏู ุงูุณุคุงู ูุตูุฑุฉ ุชูุฏูุฑ ุงููุถุน:

```py
pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", controlnet=controlnet, torch_dtype=torch.float16, variant="fp16"
).to("cuda")
generator = torch.Generator("cuda").manual_seed(31)
image = pipeline("ุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K"ุ image=pose_imageุ generator=generator).images[0]
image
```

## ุชูููู ูุนููุงุช ุงูุฃูุงุจูุจ

ููุงู ุนุฏุฏ ูู ุงููุนููุงุช ุงูุชู ูููู ุชูููููุง ูู ุงูุฃูุงุจูุจ ูุงูุชู ุชุคุซุฑ ุนูู ููููุฉ ุฅูุดุงุก ุตูุฑุฉ. ููููู ุชุบููุฑ ุญุฌู ุงูุตูุฑุฉ ุงููุงุชุฌุฉุ ูุชุญุฏูุฏ ุณุคุงู ุณูุจู ูุชุญุณูู ุฌูุฏุฉ ุงูุตูุฑุฉุ ูุงููุฒูุฏ. ูุชุนูู ูุฐุง ุงููุณู ูู ููููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงููุนููุงุช.

### ุงูุงุฑุชูุงุน ูุงูุนุฑุถ

ุชุญูู ูุนููุงุช "ุงูุงุฑุชูุงุน" ู"ุงูุนุฑุถ" ูู ุงุฑุชูุงุน ูุนุฑุถ ุงูุตูุฑุฉ ุงููููุฏุฉ (ุจุงูุจูุณู). ุจุดูู ุงูุชุฑุงุถูุ ููุชุฌ ูููุฐุฌ Stable Diffusion v1.5 ุตูุฑูุง ุจุญุฌู 512x512ุ ูููู ููููู ุชุบููุฑ ุฐูู ุฅูู ุฃู ุญุฌู ูููู ูุถุงุนููุง ูู 8. ุนูู ุณุจูู ุงููุซุงูุ ูุฅูุดุงุก ุตูุฑุฉ ูุณุชุทููุฉ:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16, variant="fp16"
).to("cuda")
image = pipeline(
"ุฑุงุฆุฏ ูุถุงุก ูู ุงูุบุงุจุฉุ ููุญุฉ ุฃููุงู ุจุงุฑุฏุฉุ ุฃููุงู ุฎุงูุชุฉุ ุชูุงุตููุ 8K"ุ height=768ุ width=512
).images[0]
image
```

<Tip warning={true}>
ูุฏ ูููู ููููุงุฐุฌ ุงูุฃุฎุฑู ุฃุญุฌุงู ุตูุฑ ุงูุชุฑุงุถูุฉ ูุฎุชููุฉ ุงุนุชูุงุฏูุง ุนูู ุฃุญุฌุงู ุงูุตูุฑ ูู ูุฌููุนุฉ ุจูุงูุงุช ุงูุชุฏุฑูุจ. ุนูู ุณุจูู ุงููุซุงูุ ุงูุญุฌู ุงูุงูุชุฑุงุถู ูุตูุฑุฉ SDXL ูู 1024x1024 ููุฏ ูุคุฏู ุงุณุชุฎุฏุงู ููู "ุงุฑุชูุงุน" ู"ุนุฑุถ" ุฃูู ุฅูู ุงูุฎูุงุถ ุฌูุฏุฉ ุงูุตูุฑุฉ. ุชุฃูุฏ ูู ุงูุชุญูู ูู ูุฑุฌุน API ูููููุฐุฌ ุฃููุงู!
</Tip>
### ูููุงุณ ุงูุชูุฌูู

ุชุคุซุฑ ูููุฉ ูุนููุฉ `guidance_scale` ุนูู ูุฏู ุชุฃุซูุฑ ุงูุชูุฌูู ุนูู ุชูููุฏ ุงูุตูุฑุฉ. ุชุนุทู ุงููููุฉ ุงูููุฎูุถุฉ ุงููููุฐุฌ "ุงูุฅุจุฏุงุน" ูุชูููุฏ ุตูุฑ ููุง ุนูุงูุฉ ุฃูุซุฑ ูุฑููุฉ ุจุงูุชูุฌูู. ุชุฏูุน ููู `guidance_scale` ุงูุฃุนูู ุงููููุฐุฌ ุฅูู ุงุชุจุงุน ุงูุชูุฌูู ุนู ูุซุจุ ูุฅุฐุง ูุงูุช ูุฐู ุงููููุฉ ูุฑุชูุนุฉ ููุบุงูุฉุ ููุฏ ุชูุงุญุธ ุจุนุถ ุงูุนููุจ ูู ุงูุตูุฑุฉ ุงููููุฏุฉ.

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16
).to("cuda")
image = pipeline(
"Astronaut in a jungle, cold color palette, muted colors, detailed, 8k", guidance_scale=3.5
).images[0]
image
```

### ุชูุฌูู ุณูุจู

ุชูุงูุงู ููุง ูููู ุงูุชูุฌูู ุจุชูุฌูู ุงูุชูููุฏุ ูุฅู ุงูุชูุฌูู *ุงูุณูุจู* ููุฌู ุงููููุฐุฌ ุจุนูุฏูุง ุนู ุงูุฃุดูุงุก ุงูุชู ูุง ุชุฑูุฏูุง ุฃู ูููู ุงููููุฐุฌ ุจุชูููุฏูุง. ูููุณุชุฎุฏู ูุฐุง ุนุงุฏุฉ ูุชุญุณูู ุฌูุฏุฉ ุงูุตูุฑุฉ ุงูุนุงูุฉ ุนู ุทุฑูู ุฅุฒุงูุฉ ููุฒุงุช ุงูุตูุฑุฉ ุงูุณูุฆุฉ ุฃู ุงูุฑุฏูุฆุฉ ูุซู "ุฏูุฉ ููุฎูุถุฉ" ุฃู "ุชูุงุตูู ุณูุฆุฉ". ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ุชูุฌูู ุณูุจู ูุฅุฒุงูุฉ ูุญุชูู ุงูุตูุฑุฉ ุฃู ุชุนุฏููู ุฃู ุชุบููุฑ ุฃุณููุจูุง.

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16
).to("cuda")
image = pipeline(
prompt="Astronaut in a jungle, cold color palette, muted colors, detailed, 8k",
negative_prompt="ugly, deformed, disfigured, poor details, bad anatomy",
).images[0]
image
```

### ุงููููุฏ

ุชูููู [`torch.Generator`](https://pytorch.org/docs/stable/generated/torch.Generator.html#generator) ูุงุจููุฉ ุฅุนุงุฏุฉ ุงูุฅูุชุงุฌ ูู ุฎุท ุงูุฃูุงุจูุจ ุนู ุทุฑูู ุชุนููู ุจุฐุฑุฉ ูุฏููุฉ. ููููู ุงุณุชุฎุฏุงู `Generator` ูุฅูุดุงุก ุฏูุนุงุช ูู ุงูุตูุฑ ูุชุญุณูู ุตูุฑุฉ ุชู ุฅูุดุงุคูุง ูู ุจุฐุฑุฉ ุจุดูู ุชูุฑุงุฑู ููุง ูู ููุถุญ ุจุงูุชูุตูู ูู ุฏููู [ุชุญุณูู ุฌูุฏุฉ ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู ุงูุชูููุฏ ุงููุญุฏุฏ](reusing_seeds).

ููููู ุชุนููู ุจุฐุฑุฉ ู`Generator` ููุง ูู ููุถุญ ุฃุฏูุงู. ูุฌุจ ุฃู ูุคุฏู ุฅูุดุงุก ุตูุฑุฉ ุจุงุณุชุฎุฏุงู `Generator` ุฅูู ุฅุฑุฌุงุน ููุณ ุงููุชูุฌุฉ ูู ูู ูุฑุฉ ุจุฏูุงู ูู ุฅูุดุงุก ุตูุฑุฉ ุฌุฏูุฏุฉ ุจุดูู ุนุดูุงุฆู.

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16
).to("cuda")
generator = torch.Generator(device="cuda").manual_seed(30)
image = pipeline(
"Astronaut in a jungle, cold color palette, muted colors, detailed, 8k",
generator=generator,
).images[0]
image
```

## ุงูุชุญูู ูู ุชูููุฏ ุงูุตูุฑ

ููุงู ุทุฑู ุนุฏูุฏุฉ ูููุงุฑุณุฉ ุงููุฒูุฏ ูู ุงูุชุญูู ูู ููููุฉ ุชูููุฏ ุตูุฑุฉ ุฎุงุฑุฌ ูุทุงู ุชูููู ูุนููุงุช ุฎุท ุงูุฃูุงุจูุจุ ูุซู ูุฒู ุงูุชูุฌูู ูููุงุฐุฌ ControlNet.

### ูุฒู ุงูุชูุฌูู

ูุฒู ุงูุชูุฌูู ูู ุชูููุฉ ูุฒูุงุฏุฉ ุฃู ุชูููู ุฃูููุฉ ุงูููุงููู ูู ุชูุฌูู ูุง ูุชุฃููุฏ ุฃู ุชูููู ููุฒุงุช ูุนููุฉ ูู ุตูุฑุฉ. ููุตู ุจุงุณุชุฎุฏุงู ููุชุจุฉ [Compel](https://github.com/damian0815/compel) ููุณุงุนุฏุชู ูู ุฅูุดุงุก ุชุถููู ุงูุชูุฌูู ุงููุฑุฌุญ.

<Tip>
ุชุนุฑู ุนูู ููููุฉ ุฅูุดุงุก ุชุถูููุงุช ุงูุชูุฌูู ูู ุฏููู [ูุฒู ุงูุชูุฌูู](weighted_prompts). ูุฑูุฒ ูุฐุง ุงููุซุงู ุนูู ููููุฉ ุงุณุชุฎุฏุงู ุชุถูููุงุช ุงูุชูุฌูู ูู ุฎุท ุงูุฃูุงุจูุจ.
</Tip>

ุจูุฌุฑุฏ ุฅูุดุงุก ุงูุชุถูููุงุชุ ููููู ุชูุฑูุฑูุง ุฅูู ูุนููุฉ `prompt_embeds` (ู`negative_prompt_embeds` ุฅุฐุง ููุช ุชุณุชุฎุฏู ุชูุฌูููุง ุณูุจููุง) ูู ุฎุท ุงูุฃูุงุจูุจ.

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained(
"runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16
).to("cuda")
image = pipeline(
prompt_embeds=prompt_embeds, # generated from Compel
negative_prompt_embeds=negative_prompt_embeds, # generated from Compel
).images[0]
```

### ControlNet

ููุง ุฑุฃูุช ูู ูุณู [ControlNet](#controlnet)ุ ุชููุฑ ูุฐู ุงูููุงุฐุฌ ุทุฑููุฉ ุฃูุซุฑ ูุฑููุฉ ูุฏูุฉ ูุชูููุฏ ุงูุตูุฑ ูู ุฎูุงู ุฏูุฌ ุฅุฏุฎุงู ุตูุฑุฉ ุดุฑุทูุฉ ุฅุถุงููุฉ. ูุชู ุชุฏุฑูุจ ูู ูููุฐุฌ ControlNet ูุณุจููุง ุนูู ููุน ูุนูู ูู ุตูุฑ ุงูุดุฑุทูุฉ ูุชูููุฏ ุตูุฑ ุฌุฏูุฏุฉ ุชุดุจููุง. ุนูู ุณุจูู ุงููุซุงูุ ุฅุฐุง ูุงู ูุฏูู ูููุฐุฌ ControlNet ุชู ุชุฏุฑูุจู ูุณุจููุง ุนูู ุฎุฑุงุฆุท ุงูุนููุ ูููููู ุฅุนุทุงุก ุงููููุฐุฌ ุฎุฑูุทุฉ ุนูู ูุฅุฏุฎุงู ุดุฑุทู ูุณููุดุฆ ุตูุฑุฉ ุชุญุงูุธ ุนูู ุงููุนูููุงุช ุงูููุงููุฉ ูููุง. ูุฐุง ุฃุณุฑุน ูุฃุณูู ูู ุชุญุฏูุฏ ูุนูููุงุช ุงูุนูู ูู ุชูุฌูู. ููููู ุญุชู ุฏูุฌ ุฅุฏุฎุงูุงุช ุดุฑุทูุฉ ูุชุนุฏุฏุฉ ูุน [MultiControlNet](controlnet#multicontrolnet)!

ููุงู ุงูุนุฏูุฏ ูู ุฃููุงุน ุงูุฅุฏุฎุงูุงุช ุงูุดุฑุทูุฉ ุงูุชู ููููู ุงุณุชุฎุฏุงููุงุ ููุฏุนู ๐ค Diffusers ControlNet ูููุงุฐุฌ Stable Diffusion ูSDXL. ุงุทูุน ุนูู ุฏููู [ControlNet](controlnet) ุงูุฃูุซุฑ ุดูููุงู ููุนุฑูุฉ ููููุฉ ุงุณุชุฎุฏุงู ูุฐู ุงูููุงุฐุฌ.

## ุงูุชุญุณูู

ุชุนุฏ ููุงุฐุฌ ุงูุงูุชุดุงุฑ ูุจูุฑุฉุ ูุทุจูุนุฉ ุฅุฒุงูุฉ ุงูุถูุถุงุก ุงูุชูุฑุงุฑูุฉ ููุตูุฑุฉ ููููุฉ ููุซููุฉ ุงูุญุณุงุจ. ูููู ูุฐุง ูุง ูุนูู ุฃูู ุจุญุงุฌุฉ ุฅูู ุงููุตูู ุฅูู ูุญุฏุงุช ูุนุงูุฌุฉ ุงูุฑุณููุงุช (GPU) ุงููููุฉ - ุฃู ุญุชู ุงูุนุฏูุฏ ูููุง - ูุงุณุชุฎุฏุงููุง. ููุงู ุงูุนุฏูุฏ ูู ุชูููุงุช ุงูุชุญุณูู ูุชุดุบูู ููุงุฐุฌ ุงูุงูุชุดุงุฑ ุนูู ููุงุฑุฏ ุงููุณุชููู ูุงูุทุจูุฉ ุงููุฌุงููุฉ. ุนูู ุณุจูู ุงููุซุงูุ ููููู ุชุญููู ุฃูุฒุงู ุงููููุฐุฌ ุจุฏูุฉ ูุตููุฉ ูุชูููุฑ ุฐุงูุฑุฉ GPU ูุฒูุงุฏุฉ ุงูุณุฑุนุฉ ุฃู ููู ุงููููุฐุฌ ุจุงููุงูู ุฅูู ูุญุฏุฉ ูุนุงูุฌุฉ ุงูุฑุณููุงุช ูุชูููุฑ ุงููุฒูุฏ ูู ุงูุฐุงูุฑุฉ.

ูุฏุนู PyTorch 2.0 ุฃูุถูุง ุขููุฉ ุงูุชูุงู ุฃูุซุฑ ููุงุกุฉ ูู ุงูุฐุงูุฑุฉ ุชุณูู [*scaled dot product attention*](../optimization/torch2.0#scaled-dot-product-attention) ูุชู ุชูููููุง ุชููุงุฆููุง ุฅุฐุง ููุช ุชุณุชุฎุฏู PyTorch 2.0. ููููู ุฏูุฌ ูุฐุง ูุน [`torch.compile`](https://pytorch.org/tutorials/intermediate/torch_compile_tutorial.html) ูุชุณุฑูุน ุงูููุฏ ุงูุฎุงุต ุจู ุฃูุซุฑ:

```py
from diffusers import AutoPipelineForText2Image
import torch

pipeline = AutoPipelineForText2Image.from_pretrained("runwayml/stable-diffusion-v1-5", torch_dtype=torch.float16, variant="fp16").to("cuda")
pipeline.unet = torch.compile(pipeline.unet, mode="reduce-overhead", fullgraph=True)
```

ููุญุตูู ุนูู ูุฒูุฏ ูู ุงููุตุงุฆุญ ุญูู ููููุฉ ุชุญุณูู ุงูููุฏ ุงูุฎุงุต ุจู ูุชูููุฑ ุงูุฐุงูุฑุฉ ูุชุณุฑูุน ุงูุงุณุชุฏูุงูุ ุงูุฑุฃ ุฏูููู [Memory and speed](../optimization/fp16) ู [Torch 2.0](../optimization/torch2.0).